{
    "model_config_list": [
        {
            "config": {
                "name": "craft",
                "base_path": "/OCR/craft_fp32",
                "shape": {
                  "input_0": "(1,3,768,768)"
                },
                "plugin_config": {
                    "PERFORMANCE_HINT": "LATENCY"
                }
            }
        },
        {
            "config": {
                "name": "text-recognition",
                "base_path": "/OCR/text-recognition"
            }
        }
    ],
    "custom_node_library_config_list": [
        {
            "name": "craft_image_extractor",
            "base_path": "/OCR/lib/libcustom_node_craft_ocr.so"
        }
    ],
    "pipeline_config_list": [
        {
            "name": "detect_text_images",
            "inputs": ["image"],
            "nodes": [
                {
                    "name": "craft_node",
                    "model_name": "craft",
                    "type": "DL model",
                    "inputs": [
                      {
                        "input_0": {
                          "node_name": "request",
                          "data_item": "image"
                        }
                      }
                    ],
                    "outputs": [
                        {"data_item": "297",
                         "alias": "scores"}
                    ]
                },
                {
                    "name": "extract_node",
                    "library_name": "craft_image_extractor",
                    "type": "custom",
                    "demultiply_count": 0,
                    "params": {
                        "original_image_width": "768",
                        "original_image_height": "768",
                        "original_image_layout": "NCHW",
                        "target_image_width": "128",
                        "target_image_height": "32",
                        "target_image_layout": "NCHW",
                        "convert_to_gray_scale": "true",
                        "text_threshold": "0.7",
                        "link_threshold": "0.4",
                        "low_text_threshold": "0.4",
                        "debug": "false"
                    },
                    "inputs": [
                        {"image": {"node_name": "request",
                                   "data_item": "image"}},
                        {"scores": {"node_name": "craft_node",
                                    "data_item": "scores"}}
                    ],
                    "outputs": [
                        {"data_item": "text_images",
                         "alias": "text_images"}
                    ]
                },
                {
                    "name": "text-recognition_node",
                    "model_name": "text-recognition",
                    "type": "DL model",
                    "inputs": [
                        {"imgs": {"node_name": "extract_node",
                            "data_item": "text_images"}}
                    ],
                    "outputs": [
                        {"data_item": "logits",
                            "alias": "texts"}
                    ]
                }
            ],
            "outputs": [
                {"text_images": {"node_name": "extract_node",
                         "data_item": "text_images"}},
                {"texts": {"node_name": "text-recognition_node",
                         "data_item": "texts"}}
            ]
        }
    ]
}
